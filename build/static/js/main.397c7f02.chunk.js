(this.webpackJsonpreact_movie_db_course=this.webpackJsonpreact_movie_db_course||[]).push([[0],{21:function(e,a,t){e.exports=t(45)},26:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},34:function(e,a,t){},35:function(e,a,t){},36:function(e,a,t){},37:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(18),o=t.n(r),m=t(7),l=t(1);t(26);function i(){return c.a.createElement("div",{className:"rmdb-header"},c.a.createElement("div",{className:"rmdb-header-content"},c.a.createElement(m.b,{to:"/"},c.a.createElement("img",{className:"rmdb-logo",src:"./images/reactMovie_logo.png",alt:"rmdb-logo"})),c.a.createElement("img",{className:"rmdb-tmdb-logo",src:"./images/tmdb_logo.png",alt:"tmdb logo"})))}function s(){return c.a.createElement("div",null,c.a.createElement("h1",null,"The page you are looking for does not exist!"))}var u=t(13),d=t(3),v="https://api.themoviedb.org/3/",b="844dba0bfd8f3a4f3799f6130ef9e335",g="http://image.tmdb.org/t/p/";t(32);var f=function(e){return c.a.createElement("div",{className:"rmdb-grid"},e.header&&!e.loading?c.a.createElement("h1",null,e.header):null,c.a.createElement("div",{className:"rmdb-grid-content"},e.children.map((function(e,a){return c.a.createElement("div",{key:a,className:"rmdb-grid-element"},e)}))))};t(33);function E(e){var a=e.image,t=e.title,n=e.text;return c.a.createElement("div",{className:"rmdb-heroimage",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0) \n      39%, rgba(0,0,0,0)\n      41%, rgba(0,0,0,0.65)\n      100%),\n      url('".concat(a,"'), #1c1c1c")}},c.a.createElement("div",{className:"rmdb-heroimage-content"},c.a.createElement("div",{className:"rmdb-heroimage-text"},c.a.createElement("h1",null,t),c.a.createElement("p",null,n))))}var p=t(8),h=t.n(p);t(34);function N(e){var a=Object(n.useState)(""),t=Object(d.a)(a,2),r=t[0],o=t[1];return c.a.createElement("div",{className:"rmdb-searchbar"},c.a.createElement("div",{className:"rmdb-searchbar-content"},c.a.createElement("form",{onSubmit:function(a){a.preventDefault(),console.log(r),e.callback(r)}},c.a.createElement(h.a,{onClick:function(){return e.callback(r)},className:"rmdb-fa-search",name:"search",size:"2x",style:{cursor:"pointer"}}),c.a.createElement("input",{type:"text",className:"rmdb-searchbar-input",placeholder:"Search",onChange:function(e){o(e.target.value)},value:r}))))}t(35);var j=function(e){return c.a.createElement("div",{className:"rmdb-moviethumb"},e.clickable?c.a.createElement(m.b,{to:{pathname:"/".concat(e.movieId),movieName:"".concat(e.movieName)}},c.a.createElement("img",{src:e.image,alt:"movie thumb"})):c.a.createElement("img",{src:e.image,alt:"movie thumb"}))};t(36);function O(e){return c.a.createElement("div",{className:"rmdb-loadmorebtn",onClick:e.onClick},c.a.createElement("p",null,e.text))}t(37);function S(){return c.a.createElement("div",{className:"loader"})}t(38);function _(){var e=Object(n.useState)(!1),a=Object(d.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)([]),m=Object(d.a)(o,2),l=m[0],i=m[1],s=Object(n.useState)(null),p=Object(d.a)(s,2),h=p[0],_=p[1],k=Object(n.useState)(0),y=Object(d.a)(k,2),I=y[0],x=y[1],w=Object(n.useState)(0),R=Object(d.a)(w,2),U=R[0],C=R[1],D=Object(n.useState)(""),J=Object(d.a)(D,2),M=J[0],P=J[1];Object(n.useEffect)((function(){if(localStorage.getItem("homeState")){var e=JSON.parse(localStorage.getItem("homeState"));r(e.loading),i(e.movies),C(e.totalPages),_(e.heroImage),x(e.currentPage)}else{r(!0);var a="".concat(v,"movie/popular/?api_key=").concat(b,"&language=en-US&page=1");T(a)}}),[]);var T=function(e,a){fetch(e).then((function(e){return e.json()})).then((function(e){i(a?Object(u.a)(e.results):[].concat(Object(u.a)(l),Object(u.a)(e.results))),_(h||e.results[1]),r(!1),x(e.page),C(e.total_pages)}))};Object(n.useEffect)((function(){localStorage.setItem("homeState",JSON.stringify({movies:l,heroImage:h,loading:t,currentPage:I,totalPages:U}))}),[l,I,U,h,t]);return c.a.createElement("div",{className:"rmdb-home"},h?c.a.createElement("div",null,c.a.createElement(E,{image:"".concat(g).concat("w1280","/").concat(h.backdrop_path),title:h.original_title,text:h.overview}),c.a.createElement(N,{callback:function(e){console.log(e);var a="";r(!0),P(e),a=""===e?"".concat(v,"movie/popular?api_key=").concat(b,"&language=en-US&page=1"):"".concat(v,"search/movie?api_key=").concat(b,"&language=en-US&query=").concat(e),T(a,!0)}})):null,c.a.createElement("div",{className:"rmdb-home-grid"},c.a.createElement(f,{header:M?"Search Results":"Popular Movies",loading:t},l.map((function(e,a){return c.a.createElement(j,{key:a,clickable:!0,image:e.poster_path?"".concat(g).concat("w500","/").concat(e.poster_path):"./images/no_image.jpg",movieId:e.id,movieName:e.original_title})}))),t?c.a.createElement(S,null):null,I<=U&&!t?c.a.createElement(O,{text:"Load More",onClick:function(){var e="";r(!0),e=""===M?"".concat(v,"movie/popular?api_key=").concat(b,"&language=en-US&page=").concat(I+1):"".concat(v,"search/movie?api_key=").concat(b,"&language=en-US&query=").concat(M,"&page=").concat(I+1),T(e,!1)}}):null))}t(39);function k(e){return c.a.createElement("div",{className:"rmdb-navigation"},c.a.createElement("div",{className:"rmdb-navigation-content"},c.a.createElement(m.b,{to:"/"},c.a.createElement("p",null,"Home")),c.a.createElement("p",null,"/"),c.a.createElement("p",null,e.movie)))}t(40);function y(e){return c.a.createElement("div",{className:"rmdb-movieinfo",style:{background:e.movie.backdrop_path?"url('".concat(g).concat("w1280","/").concat(e.movie.backdrop_path,"')"):"#000"}},c.a.createElement("div",{className:"rmdb-movieinfo-content"},c.a.createElement("div",{className:"rmdb-movieinfo-thumb"},c.a.createElement(j,{image:e.movie.poster_path?"".concat(g).concat("w500","/").concat(e.movie.poster_path):"images/no_image.jpg",clickable:!1})),c.a.createElement("div",{className:"rmdb-movieinfo-text"},c.a.createElement("h1",null,e.movie.title),c.a.createElement("h3",null,"PLOT"),c.a.createElement("p",null,e.movie.overview),c.a.createElement("h3",null,"IMDB RATING"),c.a.createElement("div",{className:"rmdb-rating"},c.a.createElement("meter",{min:"0",max:"100",optimum:"100",low:"40",high:"70",value:10*e.movie.vote_average}),c.a.createElement("p",{className:"rmdb-score"},e.movie.vote_average)),e.directors.length>1?c.a.createElement("h3",null,"DIRECTORS"):c.a.createElement("h3",null,"DIRECTOR"),e.directors.map((function(e,a){return c.a.createElement("p",{key:a,className:"rmdb-director"},e.name)}))),c.a.createElement(h.a,{className:"fa-film",name:"film",size:"5x"})))}var I=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}).format(e)};t(41);function x(e){return c.a.createElement("div",{className:"rmdb-movieinfobar"},c.a.createElement("div",{className:"rmdb-movieinfobar-content"},c.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},c.a.createElement(h.a,{className:"fa-time",name:"clock-o",size:"2x"}),c.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Running Time: ",function(e){var a=Math.floor(e/60),t=e%60;return"".concat(a,"h ").concat(t,"m")}(e.time))),c.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},c.a.createElement(h.a,{className:"fa-budget",name:"money",size:"2x"}),c.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Budget: ",I(e.budget))),c.a.createElement("div",{className:"rmdb-movieinfobar-content-col"},c.a.createElement(h.a,{className:"fa-revenue",name:"ticket",size:"2x"}),c.a.createElement("span",{className:"rmdb-movieinfobar-info"},"Revenue: ",I(e.revenue)))))}t(42);function w(e){return c.a.createElement("div",{className:"rmdb-actor"},c.a.createElement("img",{src:e.actor.profile_path?"".concat(g).concat("w154").concat(e.actor.profile_path):"images/no_image.jpg",alt:"actor thumb"}),c.a.createElement("span",{className:"rmdb-actor-name"},e.actor.name),c.a.createElement("span",{className:"rmdb-actor-character"},e.actor.character))}t(43);function R(e){var a=Object(n.useState)(null),t=Object(d.a)(a,2),r=t[0],o=t[1],m=Object(n.useState)([]),l=Object(d.a)(m,2),i=l[0],s=l[1],u=Object(n.useState)([]),g=Object(d.a)(u,2),E=g[0],p=g[1],h=Object(n.useState)(!1),N=Object(d.a)(h,2),j=N[0],O=N[1];Object(n.useEffect)((function(){if(localStorage.getItem("".concat(e.match.params.movieId))){var a=JSON.parse(localStorage.getItem("".concat(e.match.params.movieId)));o(a.movie),s(a.actors),p(a.directors),O(a.loading)}else{O(!0);var t="".concat(v,"movie/").concat(e.match.params.movieId,"?api_key=").concat(b,"&language-en-US");_(t)}}),[]);var _=function(e){fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),e.status_code?O(!1):o(e)})).catch((function(e){return console.error(e)}))};return Object(n.useEffect)((function(){var a="".concat(v,"movie/").concat(e.match.params.movieId,"/credits?api_key=").concat(b);fetch(a).then((function(e){return e.json()})).then((function(e){var a=e.crew.filter((function(e){return"Director"===e.job}));s(e.cast),p(a),O(!1)}))}),[r]),Object(n.useEffect)((function(){localStorage.setItem("".concat(e.match.params.movieId),JSON.stringify({loading:j,movie:r,directors:E,actors:i}))}),[i,E,j,r]),c.a.createElement("div",{className:"rmdb-movie"},r?c.a.createElement("div",null,c.a.createElement(k,{movie:e.location.movieName}),c.a.createElement(y,{movie:r,directors:E}),c.a.createElement(x,{time:r.runtime,budget:r.budget,revenue:r.revenue})):null,i?c.a.createElement("div",{className:"rmdb-movie-grid"},c.a.createElement(f,{header:"Actors"},i.map((function(e,a){return c.a.createElement(w,{key:a,actor:e})})))):null,i||j?null:c.a.createElement("h1",null,"No Movie Found!"),j?c.a.createElement(S,null):null)}function U(){return c.a.createElement(m.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(i,null),c.a.createElement(l.c,null,c.a.createElement(l.a,{path:"/",component:_,exact:!0}),c.a.createElement(l.a,{path:"/:movieId",component:R,exact:!0}),c.a.createElement(l.a,{component:s}))))}t(44);o.a.render(c.a.createElement(U,null),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.397c7f02.chunk.js.map